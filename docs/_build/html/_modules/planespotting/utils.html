

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>planespotting.utils &mdash; PlaneSpotting 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> PlaneSpotting
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">PlaneSpotting: Technical Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials &amp; Usage</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PlaneSpotting</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>planespotting.utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for planespotting.utils</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">gzip</span>

<div class="viewcode-block" id="get_all_files"><a class="viewcode-back" href="../../modules.html#planespotting.utils.get_all_files">[docs]</a><span class="k">def</span> <span class="nf">get_all_files</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function returns the path to all the files present in a directory/folder.</span>

<span class="sd">    :param filename: Path to the directory/folder</span>
<span class="sd">    :type file: String (path)</span>
<span class="sd">    :return: File paths</span>
<span class="sd">    :rtype: Python list</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">processing_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="c1">#print(&quot;file&quot;, filepath)</span>
                <span class="n">processing_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">processing_files</span></div>


<div class="viewcode-block" id="get_one_file"><a class="viewcode-back" href="../../modules.html#planespotting.utils.get_one_file">[docs]</a><span class="k">def</span> <span class="nf">get_one_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    To open a specific file for a code segment, this returns the single file path in an unit list.</span>

<span class="sd">    :param filename: Path to the specific file</span>
<span class="sd">    :type filename: String (path)</span>
<span class="sd">    :return: File path (singular)</span>
<span class="sd">    :rtype: Python list</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">filename</span><span class="p">]</span></div>


<div class="viewcode-block" id="is_binary"><a class="viewcode-back" href="../../modules.html#planespotting.utils.is_binary">[docs]</a><span class="k">def</span> <span class="nf">is_binary</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Checks if the file type is binary or text. It opens the file in text mode initially and and handles if an exception is thrown.</span>
<span class="sd">    If an exception occurs, then the file is non-binary and vice-versa.</span>

<span class="sd">    :param file: The file of which the type is to be checked.</span>
<span class="sd">    :type file: string</span>
<span class="sd">    :return: File type (text/binary)</span>
<span class="sd">    :rtype: Boolean</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">check_file</span><span class="p">:</span>  <span class="c1"># try opening file in text mode</span>
            <span class="n">check_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">except</span><span class="p">:</span>  <span class="c1"># if false then file is non-binary</span>
        <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="hexToDec"><a class="viewcode-back" href="../../modules.html#planespotting.utils.hexToDec">[docs]</a><span class="k">def</span> <span class="nf">hexToDec</span><span class="p">(</span><span class="n">hexdec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Converts hexadecimal code to binary of the length 4x of the hexadecimal string.</span>

<span class="sd">    :param hexdec: Hexadecimal String</span>
<span class="sd">    :type hexdec: string</span>
<span class="sd">    :return: Decimal string</span>
<span class="sd">    :rtype: String</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">dec</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hexdec</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="n">bits</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hexdec</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span>
    <span class="k">return</span> <span class="nb">bin</span><span class="p">(</span><span class="n">dec</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span></div>


<div class="viewcode-block" id="hexToBin"><a class="viewcode-back" href="../../modules.html#planespotting.utils.hexToBin">[docs]</a><span class="k">def</span> <span class="nf">hexToBin</span><span class="p">(</span><span class="n">hexdec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Coverts hexadecimal code to 56 bit binary string.</span>

<span class="sd">    :param hexdec: Hexadecimal String</span>
<span class="sd">    :type hexdec: string</span>
<span class="sd">    :return: Decimal string</span>
<span class="sd">    :rtype: String</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">dec</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hexdec</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bin</span><span class="p">(</span><span class="n">dec</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">56</span><span class="p">)</span></div>

<div class="viewcode-block" id="hex2bin"><a class="viewcode-back" href="../../modules.html#planespotting.utils.hex2bin">[docs]</a><span class="k">def</span> <span class="nf">hex2bin</span><span class="p">(</span><span class="n">hexstr</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convert a hexdecimal string to binary string, with zero fillings.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="n">num_of_bits</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hexstr</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">binstr</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">hexstr</span><span class="p">,</span> <span class="n">scale</span><span class="p">))[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">num_of_bits</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">binstr</span></div>

<div class="viewcode-block" id="bin2np"><a class="viewcode-back" href="../../modules.html#planespotting.utils.bin2np">[docs]</a><span class="k">def</span> <span class="nf">bin2np</span><span class="p">(</span><span class="n">binarystr</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convert binary string to numpy array.</span>

<span class="sd">    :param binarystr: The message in binary</span>
<span class="sd">    :type binarystr: String</span>
<span class="sd">    :return: Numpy array</span>
<span class="sd">    :rtype: Numpy.ndarray</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">binarystr</span><span class="p">])</span></div>

<div class="viewcode-block" id="np2bin"><a class="viewcode-back" href="../../modules.html#planespotting.utils.np2bin">[docs]</a><span class="k">def</span> <span class="nf">np2bin</span><span class="p">(</span><span class="n">npbin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert a binary numpy array to string.</span>

<span class="sd">    :param npbin: Each bit of the message stored as an element in the array.</span>
<span class="sd">    :type npbin: Numpy.ndarray</span>
<span class="sd">    :return: Binary message in string</span>
<span class="sd">    :rtype: String</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">npbin</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Small type utility functions ends here</span>
<span class="sd">&#39;&#39;&#39;</span>
<div class="viewcode-block" id="const_frame"><a class="viewcode-back" href="../../modules.html#planespotting.utils.const_frame">[docs]</a><span class="k">def</span> <span class="nf">const_frame</span><span class="p">():</span> <span class="c1">#Template for json structure for meta data</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Retuns the json meta data template when called. The keys in the dictionary contain null value.</span>

<span class="sd">    :return: JSON</span>
<span class="sd">    :rtype: Python dictionary</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">json_frame</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;meta&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;mlat_mode&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;rec_start&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;rec_end&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_lat&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_lon&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_alt&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_id&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_x&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_y&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_z&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;gs_sampling_rate&quot;</span><span class="p">:</span><span class="kc">None</span>
        <span class="p">},</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:[]</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">json_frame</span></div>

<div class="viewcode-block" id="const_frame_data"><a class="viewcode-back" href="../../modules.html#planespotting.utils.const_frame_data">[docs]</a><span class="k">def</span> <span class="nf">const_frame_data</span><span class="p">():</span> <span class="c1">#This serves as a template for the json structure. Consists of only the data part</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function, when called, returns a blank template of the data segment of the entire JSON structure</span>

<span class="sd">    :return: JSON</span>
<span class="sd">    :rtype: Python String</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">json_frame</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;is_repeated&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;raw&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;adsb_msg&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;SamplePos&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;df&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;tc&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#&quot;callsign_bin&quot;:None,</span>
            <span class="s2">&quot;capability&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;ICAO&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;parity&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;SS&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;NICsb&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;ALT&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;T&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;F&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;LAT_CPR&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;LON_CPR&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;latitude&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;longitude&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;altitude&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;isBaroAlt&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;callsign&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#Airborne velocity Subtype 1data</span>
            <span class="s2">&quot;Subtype&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;IC&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;RESV_A&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;NAC&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;S_ew&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;V_ew&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;S_ns&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;V_ns&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;VrSrc&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;S_vr&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Vr&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;RESV_B&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;S_Dif&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Dif&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;isGspeed&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;velocity&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span> <span class="c1">#result</span>
            <span class="s2">&quot;vert_rate&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span> <span class="c1">#result</span>
            <span class="s2">&quot;heading&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>    <span class="c1">#result</span>
            <span class="c1">#Subtype 3</span>
            <span class="s2">&quot;S_hdg&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Hdg&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;AS_t&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;AS&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#Operation status</span>
            <span class="s2">&quot;stype_code&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;sccc&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;lw_codes&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;op_mc&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;ver&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;NIC&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;NACp&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;BAQ&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;SIL&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;NIC_bit&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;HRD&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;resv_op&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#version 2</span>
            <span class="s2">&quot;GVA&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;SIL_bit&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#Enhanced MODE-S</span>
            <span class="s2">&quot;bds_1&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;bds_2&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;mcp_alt&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;fms_alt&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;baro_set&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;VNAV_state&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Alt_hold_state&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Apr_state&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;tgt_alt_source&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#BDS5, 0</span>
            <span class="s2">&quot;roll_angle&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;true_track_angle&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;ground_speed&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;track_angle_rate&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;TAS&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1"># BDS 6, 0</span>
            <span class="s2">&quot;mag_hdg&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;IAS&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;mach&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;baro_alt_rate&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;inertial_alt_rate&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="c1">#DF 21 &amp; 5</span>
            <span class="s2">&quot;squawk&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;time_propagation&quot;</span><span class="p">:</span> <span class="kc">None</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">json_frame</span></div>

<div class="viewcode-block" id="create_folder"><a class="viewcode-back" href="../../modules.html#planespotting.utils.create_folder">[docs]</a><span class="k">def</span> <span class="nf">create_folder</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Creates a folder/directory at a given path. Often required when a directory which does not exist and is required for dumping the output</span>

<span class="sd">    :param path: Path to the location where the folder/directory is to be created.</span>
<span class="sd">    :type path: String</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>


<div class="viewcode-block" id="store_file"><a class="viewcode-back" href="../../modules.html#planespotting.utils.store_file">[docs]</a><span class="k">def</span> <span class="nf">store_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Used to store a file and put the data in that file at a particular location. If the file does not exist, then the file is created and stored.</span>

<span class="sd">    :param path: Location where the file is to be stored</span>
<span class="sd">    :param file: The name of the file</span>
<span class="sd">    :param data: The contents of the file that is to be saved</span>
<span class="sd">    :type path: String</span>
<span class="sd">    :type file: String</span>
<span class="sd">    :type data: JSON (Python dictionary)</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.json&quot;</span>

    <span class="c1"># create the folder</span>
    <span class="n">create_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="store_file_jsonGzip"><a class="viewcode-back" href="../../modules.html#planespotting.utils.store_file_jsonGzip">[docs]</a><span class="k">def</span> <span class="nf">store_file_jsonGzip</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    It stores the files by gzipping it to save memory. The file, if it does not exist at the specific location, then it is created and the data is saved in it.</span>

<span class="sd">    :param path: Location where the file is to be stored</span>
<span class="sd">    :param file: The name of the file</span>
<span class="sd">    :param data: The contents of the file that is to be saved</span>
<span class="sd">    :type path: String</span>
<span class="sd">    :type file: String</span>
<span class="sd">    :type data: JSON (Python dictionary)</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.json.gz&quot;</span>

    <span class="c1"># create the folder</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">+</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="o">+</span><span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">create_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fout</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fout</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="load_file_jsonGzip"><a class="viewcode-back" href="../../modules.html#planespotting.utils.load_file_jsonGzip">[docs]</a><span class="k">def</span> <span class="nf">load_file_jsonGzip</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Used to load and read a gzipped JSON file present a particular location.</span>

<span class="sd">    :param filename: Name of the .gz file to be opened along with it&#39;s path</span>
<span class="sd">    :type filename: String</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">GzipFile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="load_json"><a class="viewcode-back" href="../../modules.html#planespotting.utils.load_json">[docs]</a><span class="k">def</span> <span class="nf">load_json</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Used to load and read a JSON file present a particular location.</span>

<span class="sd">    :param filename: Name of the .json file to be opened along with it&#39;s path</span>
<span class="sd">    :type filename: String</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">data</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Shoumik Dey and &amp; Andreas Hornig

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>